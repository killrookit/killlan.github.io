<main class="main-container ng-scope" ng-view=""><div class="main receptacle post-view ng-scope"><article class="entry ng-scope" ng-controller="EntryCtrl" ui-lightbox=""><header><h1 class="entry-title ng-binding">树莓派打造无线扫描仪.</h1><div class="entry-meta"><a target="_blank" class="author name ng-binding">末笔丶</a> <span class="bull">·</span> <time title="2014/11/10 15:14" ui-time="" datetime="2014/11/10 15:14" class="published ng-binding ng-isolate-scope">2014/11/10 15:14</time></div></header><section class="entry-content ng-binding" ng-bind-html="postContentTrustedHtml"><p></p><h2>0x00 什么是SDR？</h2><hr><p>"软件无线电"(Software Defined Radio -- SDR). 实际上软件无线电技术的研究和开发已经有几十年的历史了,最初源于美军的多制式电台项目. 目前我们日常使用的移动通信系统中其实已经大量使用软件无线电技术, 比如基站中的信号处理大量的使用可编程的FPGA和DSP完成, 比如手机当中的基带处理器也越来越多的采用软解调的方法(少数运算量特别大实时性要求特别高的模块除外,比如turbo解码器,扩频相关器等,这些模块往往在基带处理器中嵌入一些高度定制化"硬"核来实现) 首先要先选择一根支持rtl-sdr的电视棒.就是采用RTL2832u(频率范围为64-1700mh)解调芯片的.价格无疑方面是最便宜的无线电(SDR)硬件设备. 普通的电视棒当然不能把原始信号送给电脑，不过用了rtl2832芯片的电视棒被破解了，可以把原始信号送给电脑，这样就可以用电脑分析解调任意信号而不是局限于电视信号了。</p><h2>0x01 树莓派+SDR 会发生什么呢？</h2><hr><p>先安装必须的依赖项：</p><pre><code>#!bash
sudo apt-get update

sudo apt-get install cmake build-essential python-pip libusb-1.0-0-dev python-numpy git

# 下载rtl-sdr的

cd ~

git clone git://git.osmocom.org/rtl-sdr.git

cd rtl-sdr

mkdir build

cd build

cmake ../ -DINSTALL\_UDEV\_RULES=ON -DDETACH\_KERNEL\_DRIVER=ON

make

sudo make install

sudo ldconfig

sudo pip install pyrtlsdr

# 这个时候相关的驱动就装好了.开始使用FreqShow！

cd ~

git clone https://github.com/adafruit/FreqShow.git

cd FreqShow
</code></pre><p>然后根据情况修改freqshow.py的配置.因为pi的屏幕不同我建议是将下面的注释了.</p><pre><code>#!python
# Initialize pygame and SDL to use the PiTFT display and chscreen.
#os.putenv('SDL_VIDEODRIVER', 'fbcon')
#os.putenv('SDL_FBDEV'      , '/dev/fb1')
#os.putenv('SDL_MOUSEDRV'   , 'TSLIB')
#os.putenv('SDL_MOUSEDEV'   , '/dev/input/touchscreen')
pygame.mouse.set_visible(True)
</code></pre><blockquote><p>sudo python freqshow.py</p></blockquote><p>这个时候你就拥有了一个树莓派无线扫描仪.</p><p><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/13.jpg"><img alt="" title="1" width="554" height="416" class="aligncenter size-full wp-image-3813" img-src="2014111007112874221.jpg"></a><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/2.jpg"><img alt="" title="2" width="554" height="416" class="aligncenter size-full wp-image-3814" img-src="2014111007112935372.jpg"></a><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/32.jpg"><img alt="" title="3" width="554" height="416" class="aligncenter size-full wp-image-3815" img-src="2014111007112972371.jpg"></a><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/4.jpg"><img alt="" title="4" width="554" height="416" class="aligncenter size-full wp-image-3816" img-src="2014111007112942725.jpg"></a></p><h2>0x02 捕获来自飞机的信号.</h2><hr><p>能很容易的捕获到飞机是因为中国民航新航行系统(CNS) .1090Mhz在系统里大量采用了古老的无线标准. 因为航空业巨头们建立了一整套适航规定,飞机上任何一点小小的改动若想获得广泛的应用是非常麻烦的,更不要说对CNS系统的升级换代. ADS-B 是广播式自动相关监视系统，亦即一种航空交通监视系统，而且是使用全球性导航卫星系统、航机的航电设备和地面基础设施， 能够在航机和航管地面站 (air-to-ground 即 aircraft to ATS) 或是空对空 (air-to-air 即 aircraft to aircraft) 之间准确和迅速自动地传送飞航讯息； 其中包括有航机的识别、位置、高度、速度和其他数据或资讯。 简单来说 ADS-B 是由航机直接发出的封包，让地面或其他航机可以得知它的位置、高度、速度等资讯。 ADS-B利用112个未加密的脉冲字在978Mhz、1090Mhz发射的信号。然后通过dump1090将捕获到信号信息生成地图</p><pre><code>#!bash
cd ~

git clone git://github.com/MalcolmRobb/dump1090.git

cd dump1090

make

./dump1090 –interactive –net
</code></pre><p>然后访问pi的8080端口.</p><p><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/51.jpg"><img alt="" title="5" width="500" height="311" class="aligncenter size-full wp-image-3817" img-src="2014111007112969181.jpg"></a><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/6.jpg"><img alt="" title="6" width="500" height="247" class="aligncenter size-full wp-image-3818" img-src="2014111007113096369.jpg"></a><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/7.jpg"><img alt="" title="7" width="554" height="233" class="aligncenter size-full wp-image-3820" img-src="2014111007113020375.jpg"></a></p><p>更详细的操作可以看下面的链接 https://github.com/antirez/dump1090/</p><h2>0x03 制造出一架飞机?</h2><hr><p><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/8.jpg"><img alt="" title="8" width="554" height="415" class="aligncenter size-full wp-image-3821" img-src="2014111007113046789.jpg"></a>GNURadio在按照ads-b协议生成信号.可以定义任意的经纬信息. (说到这里应该很多人都懂了)因为没有条件所以就没有机会实践了..只是提供一条思路! 请实践时不要使用1090Mhz. 你该找一个合法的或者足够安全的频率（比如某些敌国卫星的生癖频率），以最最最低的功率发射，使用闭路射频电缆和衰减器，最好在地下室或者暗室玩这个。后果自负！！！！</p><h2>0x04 SDR收听FM</h2><hr><p>那个13碎的小黑阔拿到hackrf问我第一个问题就是怎么听FM.我也是醉了.好吧还是说一下怎么使用树莓派+电视棒听FM.</p><p>rtl_tcp -a 192.168.X.X(树莓派的IP)</p><p>然后电脑客户机下载 http://sdrsharp.com/downloads/sdr-install.zip 解压后运行 install.bat 自动绿色安装生成目录sdrsharp 直接运行 SDRSharp.exe即可。 选择RTL-SDR / TCP， 点击设置输入树莓派的IP.端口1234参数勾选RTL AGC Tuner AGC，Radio那里选择WFM然后点击开始。调整VFO频率就能听到当地的FM了</p><p><a href="http://drops.wooyun.org/wp-content/uploads/2014/11/9.jpg"><img alt="" title="9" width="554" height="419" class="aligncenter size-full wp-image-3822" img-src="2014111007113096156.jpg"></a></p><p>下面链接是有关收听一些特别的.如网络频率还有..用的频率(有点敏感.所以只放链接)</p><p>http://kmkeen.com/rtl-demod-guide/index.html</p><h2>0x05</h2><hr><p>文章有部分是摘抄大牛文章的.另外因为电视棒不具有发射的条件..所以想看. 挟持无线麦.伪造X机信号.以及别人所谓的破解汽车..等等的重放攻击.等我(买or做)HACKRF.之后在说吧..</p><p>最后希望这篇文章能为你打开一扇大门.通往哪里就看你了..</p><p>并忠告各位看客一句.务必遵守当地无线电和航空安全法规否则后果自负！！！！！！</p><p>补充LINK</p><p>http://www.satsignal.eu/raspberry-pi/dump1090.html</p><p></p></section></article><div class="entry-controls clearfix"><div style="float:left;color:#9d9e9f;font-size:15px"><span>&copy;乌云知识库版权所有 未经许可 禁止转载</span></div></div><div class="yarpp-related"><h3>为您推荐了适合您的技术文章:</h3><ol id="recommandsystem"><li><a href="http://drops.wooyun.org/tips/11367" rel="bookmark" id="re1">Cuckoo恶意软件自动化分析平台搭建</a></li><li><a href="http://drops.wooyun.org/tips/9651" rel="bookmark" id="re2">Bluetooth Low Energy 嗅探</a></li><li><a href="http://drops.wooyun.org/tips/13444" rel="bookmark" id="re3">Mousejack测试指南</a></li><li><a href="http://drops.wooyun.org/papers/7480" rel="bookmark" id="re4">中间人攻击利用框架bettercap测试</a></li></ol></div><div id="comments" class="comment-list clearfix"><div id="comment-list"><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">wefgod</span> <span class="reply-time">2014-12-03 10:47:08</span></div><p></p><p>好高级，以后可以试试，话说这个是在官方系统的基础上改造的吗？</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">txcbg</span> <span class="reply-time">2014-11-16 22:26:04</span></div><p></p><p>小显示屏不错</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">侠之心</span> <span class="reply-time">2014-11-15 23:07:44</span></div><p></p><p>话说 题主 你是从天蝎第一集里面想到的捕获飞机的信号吗？</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">二狗子</span> <span class="reply-time">2014-11-13 17:06:23</span></div><p></p><p>http://item.taobao.com/item.htm?_u=d1i7ibsj057a&amp;id=21033664310</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">疯狗</span> <span class="reply-time">2014-11-13 11:45:44</span></div><p></p><p>有意思，最近在玩板子，但还没看到无线这里，mark下。</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">deepweb</span> <span class="reply-time">2014-11-13 10:08:59</span></div><p></p><p>HACKRF要3000左右 要是300立马入一个 rtl不能发射 无爱了</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">末笔丶</span> <span class="reply-time">2014-11-12 12:39:29</span></div><p></p><p>树莓pi的ip</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">helen</span> <span class="reply-time">2014-11-12 08:41:25</span></div><p></p><p>然后访问pi的8080端口.....是IP吧</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">mickey</span> <span class="reply-time">2014-11-11 23:30:54</span></div><p></p><p>好文章。讲的很明白，学习了</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">末笔丶</span> <span class="reply-time">2014-11-11 18:57:27</span></div><p></p><p>棒子被你玩坏了?先拿三哥的萝卜去用着先把.</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">末笔丶</span> <span class="reply-time">2014-11-11 18:54:22</span></div><p></p><p>嘘........</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">末笔丶</span> <span class="reply-time">2014-11-11 18:52:42</span></div><p></p><p>我没钱给树莓派配声卡.<br>Wolfson音频卡的售价为33刀<br>rtl_fm --help 你可以自己研究一下哦.</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">Anymous</span> <span class="reply-time">2014-11-11 17:29:46</span></div><p></p><p>最后一步你都用电脑了，还用树莓派干什么，有点鸡肋，<br>应该完全在树莓派上解调才对</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">whale</span> <span class="reply-time">2014-11-11 15:15:05</span></div><p></p><p>那个链接里居然有警用的频段，也就是可以收到条子的通话，可以像韩国电影监视者里的黑老大一样了</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">Kuuki</span> <span class="reply-time">2014-11-11 14:55:59</span></div><p></p><p>买的和题主的棒子一样，结果被我玩坏了，只能收到ADS-B收不到FM</p><p></p></div></div></div></div></div></main>