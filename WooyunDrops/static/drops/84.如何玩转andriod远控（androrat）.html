<main class="main-container ng-scope" ng-view=""><div class="main receptacle post-view ng-scope"><article class="entry ng-scope" ng-controller="EntryCtrl" ui-lightbox=""><header><h1 class="entry-title ng-binding">如何玩转andriod远控（androrat）</h1><div class="entry-meta"><a target="_blank" class="author name ng-binding">╰╃清風</a> <span class="bull">·</span> <time title="2013/09/09 13:47" ui-time="" datetime="2013/09/09 13:47" class="published ng-binding ng-isolate-scope">2013/09/09 13:47</time></div></header><section class="entry-content ng-binding" ng-bind-html="postContentTrustedHtml"><p></p><p><a href="http://drops.wooyun.org/papers/548">关于WebView中接口隐患与手机挂马利用</a>的引深</p><p>看我是怎样改造Android远程控制工具AndroRat</p><pre><code>1.修改布局界面
2.配置默认远程ip和端口
3.LauncherActivity修改为运行后自动开启服务并自动返回到主界面
4.修改xml让程序不显示在最新使用的程序
</code></pre><h2>0x00 搭建andriod环境</h2><hr><p>对于小白来说，首先需要的开发环境是必须</p><pre><code>1.eclipse
2.jdk
3.sdk
</code></pre><p>安装配置好后就将我们的AndroRat工程导入eclipse中</p><p>导入完成后看见2个工程如图：</p><p><img alt="2013090815203427803.jpg" img-src="d11acb09d761ef76ca501b4d22764b7e6d3e30af.jpg"></p><p>刚导入进来时肯定会编译报错，这时需将2个jra包引用进来 如图：</p><p><img alt="2013090815230469611.jpg" img-src="6784e25054beaffe480da55eafa1d90ec6dc50ff.jpg"></p><p>其他报错如import 缺少对应包可到<a href="http://www.findjar.com/index.x">http://www.findjar.com/index.x</a>查找并引用</p><p>编译错误解决完成后就会出现黄色感叹号，这个时候2个工程就可以运行了。</p><h2>0x01 安装androrat</h2><hr><p>先运行我们的服务端开启监听 默认config.txt配置端口</p><p><img alt="2013090815334573925.jpg" img-src="d1b15116e7fcc6682c9ffb3386343cb75a4bb429.jpg"></p><p>运行成功后出现服务端如下：</p><p><img alt="2013090815353936194.jpg" img-src="581316cb4d70d049bf66ac687a9b074924be2223.jpg"></p><p>接着运行客户端，使用usb链接我们的手机安装app查看</p><p><img alt="2013090815295584722.jpg" img-src="bdf7a13eef6c5c3d0ce752f6cafa474d9e929a44.jpg"></p><p>安装好后应用列表会有一个叫LogsProvider的应用，可以在如下文件里修改name</p><p><img alt="2013090815434447913.jpg" img-src="fa1731cd95153b11b5edf77f775dbb53e8fa3a05.jpg"></p><p>接着修改LauncherActivity.class代码让程序默认情动并运行后自动black</p><p><img alt="2013090815490412471.jpg" img-src="798881503dc7905294833de6aaa7fb7c42b4902e.jpg"></p><p>Manifest修改，使其不在home最近应用里显示</p><p><img alt="2013090816033950681.jpg" img-src="719a4cda830fee7fe157f08137dd6db5a34bec78.jpg"></p><p>布局文件位置，可以自定义修改布局</p><p><img alt="2013090815511471104.jpg" img-src="6cffaa436587f2e4903a04dcd79d38389c4ef28a.jpg"></p><p>adb 安装运行客户端后，服务端如图，-手机安装程序后会自动返回到桌面，长按home也看不到该程序。</p><p><img alt="2013090815541350530.jpg" img-src="0797320aa5739642a2241decb169a9724f55cdbb.jpg"></p><p>此时整个程序可以使用了，功能挺多的就不列举了</p><h2>0x02 引申思考</h2><hr><p>1.如把修改app写成服务，监听短信指定代码开启端口 （老外都这样干的）</p><p>2.andriod里的gps功能和拍照功能有bug 这可是两个亮点功能，擦</p><p>3.实现程序的自动编写，屏蔽扫描杀软，自我复制和感染文件（这还是留个大牛们研究）</p><p><a href="http://url.cn/Ke7wxT">http://url.cn/Ke7wxT</a>微云源码分享地址</p><p></p></section></article><div class="entry-controls clearfix"><div style="float:left;color:#9d9e9f;font-size:15px"><span>&copy;乌云知识库版权所有 未经许可 禁止转载</span></div></div><div id="donate" style="padding:10px;border-top:1px solid #d9d9d9;text-align:center"><span>碎银子打赏，作者好攒钱娶媳妇：</span><br><br><img src="http://static.wooyun.org/wooyun/upload/donate/20150115103931358fc47f3ee8cf825de4c17aa05bb5e5.jpg" style="width:200px;height:200px"></div><div class="yarpp-related"><h3>为您推荐了适合您的技术文章:</h3><ol id="recommandsystem"><li><a href="http://drops.wooyun.org/tips/2736" rel="bookmark" id="re1">Samsung S Voice attack</a></li><li><a href="http://drops.wooyun.org/tips/6919" rel="bookmark" id="re2">太极越狱重大安全后门</a></li><li><a href="http://drops.wooyun.org/tips/8416" rel="bookmark" id="re3">手把手教你当微信运动第一名 – 利用Android Hook进行微信运动作弊</a></li><li><a href="http://drops.wooyun.org/tips/12370" rel="bookmark" id="re4">狗汪汪玩转嵌入式 -- WINKHUB 边信道攻击 (NAND Glitch)</a></li></ol></div><div id="comments" class="comment-list clearfix"><div id="comment-list"><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">流云</span> <span class="reply-time">2016-02-12 14:23:23</span></div><p></p><p>求手机监听软件 安卓的 银子不是问题 微信13840384975 得长时间监听的</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">小清新</span> <span class="reply-time">2015-06-05 14:08:09</span></div><p></p><p>求解下 为什么导进去的不是Androrat和AndroratServer 而是Androrat和ActivetyAndrorat</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">十大啊</span> <span class="reply-time">2014-04-23 10:49:36</span></div><p></p><p>qq158652</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">黑客</span> <span class="reply-time">2014-04-14 14:12:46</span></div><p></p><p>你QQ是？</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">黑客</span> <span class="reply-time">2014-04-14 14:11:56</span></div><p></p><p>清风你QQ是？看到回复我</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">sdj</span> <span class="reply-time">2013-09-25 10:37:26</span></div><p></p><p>上线后各项操作都没用是为啥？求解</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">╰╃清風</span> <span class="reply-time">2013-09-22 14:52:34</span></div><p></p><p>结合WebView中接口隐患 运行就行，必须是root，没有还的提取</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">Lee</span> <span class="reply-time">2013-09-20 20:54:25</span></div><p></p><p>关键是4.0以上默认安装后，若不运行收不到广播。</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">蓝风</span> <span class="reply-time">2013-09-10 11:20:01</span></div><p></p><p>终于看的不是图片了</p><p></p></div></div><div class="note-comment"><img class="avatar" alt="30" src="http://wooyun.b0.upaiyun.com/wooyun_job/avatar/default.png"><div class="content"><div class="comment-header"><span class="author-link">cnsars</span> <span class="reply-time">2013-09-09 18:01:43</span></div><p></p><p>正在研究，这个很及时。。。</p><p></p></div></div></div></div></div></main>